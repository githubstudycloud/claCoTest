# GitLab v3 å¿«é€Ÿä½¿ç”¨æŒ‡å—

> ğŸ¯ **v3.5 æœ€æ–°ç‰ˆæœ¬** - 6GBå†…å­˜é…ç½®ï¼Œå®Œæ•´åŠŸèƒ½å¯ç”¨ï¼Œä¼ä¸šçº§DevOpså¹³å°

## ğŸš€ ç«‹å³ä½¿ç”¨

### è®¿é—®åœ°å€
**Webç•Œé¢**: http://192.168.0.127:8080  
**é»˜è®¤è´¦æˆ·**: root / GitLabFull2024!

### v3.5 æœ€æ–°çŠ¶æ€ â°
- **å®¹å™¨**: âœ… ç¨³å®šè¿è¡Œ (6GBå†…å­˜é…ç½®)
- **åˆå§‹åŒ–**: â³ è¿›è¡Œä¸­ (10-15åˆ†é’Ÿ)
- **ç«¯å£**: âœ… 8080 (HTTP), 3333 (SSH), 5050 (Registry), 8092 (Pages)
- **åŠŸèƒ½**: âœ… ç”¨æˆ·æ³¨å†Œã€é‚®ä»¶ã€Pagesã€ç›‘æ§å…¨éƒ¨å¯ç”¨

## ğŸ”§ ç®¡ç†å‘½ä»¤

```bash
# SSHè¿æ¥æœåŠ¡å™¨
ssh ubuntu@192.168.0.127

# è¿›å…¥é¡¹ç›®ç›®å½•
cd ~/gitlab-v3

# åŸºæœ¬ç®¡ç†
./manage.sh status    # æŸ¥çœ‹çŠ¶æ€
./manage.sh logs      # æŸ¥çœ‹æ—¥å¿—  
./manage.sh health    # å¥åº·æ£€æŸ¥
./manage.sh info      # è®¿é—®ä¿¡æ¯
./manage.sh backup    # åˆ›å»ºå¤‡ä»½
```

## ğŸŒŸ å®Œæ•´åŠŸèƒ½ç‰¹æ€§

| åŠŸèƒ½ | v2 | v3 | è¯´æ˜ |
|------|----|----|------|
| **Gitä»“åº“** | âœ… | âœ… | ä»£ç ç®¡ç† |
| **CI/CD** | âœ… | âœ… | è‡ªåŠ¨åŒ–æµæ°´çº¿ |
| **Container Registry** | âŒ | âœ… | Dockeré•œåƒä»“åº“ |
| **GitLab Pages** | âŒ | âœ… | é™æ€ç½‘ç«™æ‰˜ç®¡ |
| **Git LFS** | åŸºç¡€ | âœ… | å¤§æ–‡ä»¶æ”¯æŒ |
| **ç›‘æ§ç³»ç»Ÿ** | âŒ | âœ… | Prometheusç›‘æ§ |
| **SSLæ”¯æŒ** | åŸºç¡€ | âœ… | è‡ªç­¾åè¯ä¹¦ |
| **å†…å­˜ä½¿ç”¨** | 2GB | 6GB | æ€§èƒ½å¤§å¹…æå‡ |
| **ç”¨æˆ·æ³¨å†Œ** | â“ | âœ… | æ”¯æŒæ–°ç”¨æˆ·æ³¨å†Œ |
| **é‚®ä»¶æœåŠ¡** | âŒ | âœ… | å®Œæ•´é‚®ä»¶åŠŸèƒ½ |

## ğŸ³ Container Registry

```bash
# ç™»å½•Registry
docker login 192.168.0.127:5050

# æ¨é€é•œåƒ
docker tag myapp:latest 192.168.0.127:5050/group/project/myapp:latest
docker push 192.168.0.127:5050/group/project/myapp:latest

# æ‹‰å–é•œåƒ
docker pull 192.168.0.127:5050/group/project/myapp:latest
```

## ğŸ”‘ SSH Gitè®¿é—®

```bash
# æµ‹è¯•è¿æ¥
ssh -T git@192.168.0.127 -p 3333

# å…‹éš†ä»“åº“
git clone ssh://git@192.168.0.127:3333/username/project.git

# æ·»åŠ è¿œç¨‹ä»“åº“
git remote add origin ssh://git@192.168.0.127:3333/username/project.git
```

## ğŸ“‹ é¦–æ¬¡ä½¿ç”¨æ¸…å•

### å¿…é¡»æ“ä½œ ğŸ”’
1. **ç­‰å¾…åˆå§‹åŒ–** (15-20åˆ†é’Ÿ)
2. **ä¿®æ”¹é»˜è®¤å¯†ç ** - è®¿é—®Webç•Œé¢ç«‹å³ä¿®æ”¹
3. **æ·»åŠ SSHå¯†é’¥** - Settings â†’ SSH Keys
4. **åˆ›å»ºç¬¬ä¸€ä¸ªé¡¹ç›®** - New Project

### æ¨èæ“ä½œ ğŸŒŸ
5. **é…ç½®Registry** - å¯ç”¨å®¹å™¨é•œåƒä»“åº“
6. **è®¾ç½®Pages** - éƒ¨ç½²é™æ€ç½‘ç«™
7. **åˆ›å»ºCI/CD** - æ·»åŠ  `.gitlab-ci.yml`
8. **é…ç½®ç›‘æ§** - æŸ¥çœ‹å†…ç½®æŒ‡æ ‡

## ğŸ¯ é«˜çº§åŠŸèƒ½

### GitLab Pages
1. åœ¨é¡¹ç›®ä¸­åˆ›å»º `public/` ç›®å½•
2. é…ç½® `.gitlab-ci.yml` éƒ¨ç½²ä»»åŠ¡
3. æ¨é€ä»£ç è‡ªåŠ¨éƒ¨ç½²
4. è®¿é—®: http://192.168.0.127:8092 (æ–°ç«¯å£)

### CI/CDæµæ°´çº¿
```yaml
# .gitlab-ci.yml ç¤ºä¾‹
stages:
  - build
  - test
  - deploy

build:
  stage: build
  script:
    - docker build -t $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA .
    - docker push $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA
```

## ğŸ“Š ç›‘æ§æŒ‡æ ‡

GitLab v3å†…ç½®ç›‘æ§åŠŸèƒ½:
- **Prometheus**: æŒ‡æ ‡æ”¶é›†
- **Node Exporter**: ç³»ç»Ÿç›‘æ§
- **PostgreSQL Exporter**: æ•°æ®åº“ç›‘æ§
- **Redis Exporter**: ç¼“å­˜ç›‘æ§

## âš¡ æ€§èƒ½å¯¹æ¯” (v3.5æ›´æ–°)

| æŒ‡æ ‡ | v2 (ç®€åŒ–ç‰ˆ) | v3.5 (å®Œæ•´ç‰ˆ) |
|------|-------------|---------------|
| å¯åŠ¨æ—¶é—´ | 10-15åˆ†é’Ÿ | 10-15åˆ†é’Ÿ |
| å†…å­˜ä½¿ç”¨ | ~1.5GB | ~4GB |
| CPUä½¿ç”¨ | 2æ ¸ | 4æ ¸ |
| åŠŸèƒ½æ•°é‡ | åŸºç¡€åŠŸèƒ½ | å…¨åŠŸèƒ½ä¼ä¸šçº§ |
| é€‚ç”¨å›¢é˜Ÿ | 5-20äºº | 10-100äºº |
| å¹¶å‘æ€§èƒ½ | æ ‡å‡† | é«˜æ€§èƒ½ |

## ğŸ”„ ç‰ˆæœ¬åˆ‡æ¢

å¦‚æœéœ€è¦å›åˆ°v2ç‰ˆæœ¬:
```bash
# åœæ­¢v3
cd ~/gitlab-v3
./manage.sh stop

# å¯åŠ¨v2
cd ~/gitlab-v2  
./manage.sh start
```

## ğŸ“ è·å–å¸®åŠ©

### æ•…éšœæ’é™¤
```bash
# æŸ¥çœ‹è¯¦ç»†çŠ¶æ€
./manage.sh status

# æŸ¥çœ‹å¯åŠ¨æ—¥å¿—
./manage.sh logs

# å¥åº·æ£€æŸ¥
./manage.sh health

# é‡å¯æœåŠ¡
./manage.sh restart
```

### v3.5 å¸¸è§é—®é¢˜
- **æ— æ³•è®¿é—®**: ç­‰å¾…PumaæœåŠ¡åˆå§‹åŒ–å®Œæˆ (10-15åˆ†é’Ÿ)
- **å†…å­˜ä¸è¶³**: éœ€è¦è‡³å°‘6GBå¯ç”¨å†…å­˜ï¼Œå¦åˆ™ä½¿ç”¨v2
- **ç«¯å£å†²çª**: æ£€æŸ¥8080/3333/5050/8092ç«¯å£å ç”¨
- **Pagesæ— æ³•è®¿é—®**: ä½¿ç”¨æ–°ç«¯å£8092è€Œé8090

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

**ç°åœ¨å°±å¯ä»¥å¼€å§‹ä½“éªŒGitLab v3çš„å¼ºå¤§åŠŸèƒ½ï¼**

1. ğŸŒ **è®¿é—®**: http://192.168.0.127:8080
2. ğŸ” **ç™»å½•**: root / GitLabFull2024!
3. ğŸš€ **å¼€å§‹**: åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªé¡¹ç›®

**å®Œæ•´åŠŸèƒ½ç­‰ä½ æ¢ç´¢ï¼**